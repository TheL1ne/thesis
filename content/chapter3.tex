\chapter{State of the Art}
\section{Aktueller Trend in industriellen Netzwerken}
Der Großteil der Netzwerke im industriellen Kontext wird auch heute noch speziell für eine Fertigungsanlage geplant. Der Grund dafür sind spezielle Anforderungen an die Netzwerkhardware um Teilnehmern bestimmte Kommunikationszeiten (sogenannte Slots) und Bandbreiten garantieren zu können. Doch durch das aufkommen von Streamingdiensten in der Unterhaltungselektronik sind die Anforderungen an Stabilität, Verfügbarkeit und gleichzeitiger steigender Mobilität auch im Endkundenbereich gestiegen. Die damit verbundene Qualitätssteigerung in den Netzen und Netzwerkhardware bringt Verbrauchernetzwerktechnologie in den Blickpunkt von Forschungsarbeiten mit dem Ziel diese besser für Echtzeitnahe industrielle Anwendungen nutzen zu können\cite{wollschlaeger2017future}. Das Ziel dabei ist einfach: Geld einsparen. Besonders interessant ist die bewiesene Fehlerarmut der Endkundentechnologien, da sie durch viele Millionen Nutzer intensiveren Tests unterzogen werden, als es Testingenieure in annehmbarer Zeit durchführen könnten.\\
Deswegen sieht die aktuelle Entwicklung der Industrie vor neuen mobilen Endgeräte wie Smartphones, Tablets oder Laptops als Endpunkte für die Darstellung von internen Daten zu nutzen. Dabei sollen aber auch die bereits vorhanden Geräte der Mitarbeiter genutzt werden\cite{french2014current}. In Kombination mit den dabei steigenden Anzahl an Netzwerkteilnehmern und kabellosen Geräten, sinkt auch die Kontrolle über eben jene. Außerdem werden auch immer mehr kabellose Sensoren und komplexere Subgeräte eingebaut, da eine steigende Komplexität von Bauteilen die Kosten der Herstellung in die Höhe treibt, wird mit flexibleren Nutzungsmöglichkeiten versucht entgegen zu wirken. So entstand ein neues Forschungsfeld: \acrlong{cps}. Dieses Forschungsfeld führt unterschiedlichste Technologien zusammen und ist ein Kernelement der \textit{vierten industriellen Revolution}.\\
Die vierte industrielle Revolution oder \textit{\Gls{Industrie40}} wie es auch in vielen Veröffentlichungen genannt wird, konzentriert sich nun auf die massive Ausweitung der Kommunikation zwischen Maschine und Maschine (\Gls{M2M}) und Produkt und Maschine \cite{lasi2014industry}. Die Zukunftsvision sieht dabei vor, dass die Produkte ihren Zustand und die Schritte die noch notwendig sind um sie nach Kundenwunsch fertig zu stellen, kennen. Die notwendigen Ressourcen (wie z.B. Maschinen und Rohstoffe) werden dann durch Prozesssteuerung zugewiesen. Dieses Prozesssteuerung spielt dabei eine so große Rolle, dass sie als kritische Komponente permanent verfügbar sein muss und deswegen mit passenden Vorgaben (wie \textit{\gls{gracefulshutdown}} und \textit{\Gls{rollingupdates}}) in virtuellen Systemen von Cloud-Anbietern ausgerollt wird. Damit erreicht wird auf der einen Seite eine bessere Planbarkeit der eigenen IT-Kosten und andererseits eine stärkere Abstraktion von der Serverhardware erreicht. Das ist erstrebenswert, da es die globale Nutzung Endpunktes einfacher macht\cite{wollschlaeger2017future}. Beide Entwicklungen führen zu einer deutlichen Zunahme der Netzwerkkommunikation in Fertigungsanlagen und setzen ein verlässliches „Wide Area Network“ vorraus.\\

TODO: Lean-Automation -> einarbeiten

\section{Anomalieerkennung in industriellen Netzwerken}
Der Begriff der Anomalie ist im Zusammenhang mit industriellen Netzwerken sehr breit angelegt und die Erkennung einer Anomalie kann deswegen auch auf unterschiedliche Arten angegangen werden. Im Allgemeinen ist eine Anomalie einfach eine Abweichung vom Normal- oder Sollzustand und kann sich je nach Betrachtungsebene unterschiedlich manifestieren. Daher unterscheiden \citet{ahmed2016survey} zwischen drei allgemeinen Klassen von Anomalien:
\begin{itemize}
\item \textit{Punktanomalie} ist vorhanden, wenn eine einzelne Datenquelle sich vom üblichen Muster des Datensatzes unterscheidet.
\item Wohingegen eine \textit{Kontextanomalie} sich darin äußert, dass eine Datenquelle sich nur unter bestimmten Bedingungen, also in einem bestimmten Kontext, von üblichen Muster unterscheiden.
\item \textit{Kollektivanomalie} bezeichnet schließlich eine Abweichung vieler ähnlicher Datenquellen vom üblichen Muster.
\end{itemize}
Neben der Art einer Anomalie können die Ergebnisse von Erkennungslagorithmen auf zwei Arten vorliegen: \textit{Scores} und \textit{Labels}. \textit{Scores} oder auch Bewertungen geben an, wie wahrscheinlich ein Zustand von einem Wünschenswerten abweicht. Wir erhalten als Ergebnisse also Werte im Bereich zwischen 0 und 1. Dem gegenüber stehen die \textit{Labels}, die eine binäre Aussage treffen, ob eine Anomalie vorhanden ist. Dabei kann ein \textit{Score} zu einem \textit{Label} werden, wenn ein Schwellwert definiert wird bei dem davon ausgegangen wird, dass eine Anomalie vorhanden ist. \cite[p. ~22]{ahmed2016survey}\\
Die Berechnung dieser Werte wurde in den letzten Dekaden intensiv untersucht und so haben sich unterschiedliche Klassen von Ansätzen herausgebildet:
\TODO
\begin{itemize}
\item \textit{Klassifikationsbasierte Ansätze} 
\item \textit{Statistische Ansätze} chi-square-test verstehen \cite{ye2001anomaly}
\item \textit{Informationstheoretische Ansätze}
\item Bei den \textit{Clusterbasierte Ansätze} wie \textit{k-Means}\cite{likas2003global} werden Messwerte bezüglich eines passend gewähltem Koordinatensystem eingetragen. Danach können die einzelnen Punkte zu Gruppen zusammengefasst werden und je nach Dichte und Ausdehnung als Anomalien oder reguläres Verhalten eingestuft werden. Diesem Ansatz liegt die Annahme zu Grunde, dass normales Verhalten häufig vorkommt und die zugehörigen Messwerte eng bei einander liegen. In vielen Fällen ist dafür eine Vorverarbeitung der Messungen notwendig \cite{munz2007traffic}. Dafür ist es möglich ein Modell zur Klassifikation von einem Datensatz ohne Markierung der Messpunkte (ob Anomalie oder nicht) zu erhalten. Man spricht dabei von \textit{Unsupervised Machine Learning}\cite{munz2007traffic}.
\end{itemize}


Andere Arbeiten verfolgen da ein gänzlich anderes Bild und gehen von einer funktionierenden Anlage aus, die durch Eingriffe gestört wird oder zukünftig gestört werden soll. Deswegen definiert \textit{Ahmed et. al} \cite{ahmed2016survey} vier Angriffsszenarien die zu Netzwerkanomalien führen können:
TODO:Bild Seite 23
\begin{enumerate}
\item \textit{Denial of Service (DoS)}:
\item \textit{Probing}:
\item \textit{User to Roots}:
\item \textit{Remote to User}:
\end{enumerate}

- unterschiedliche Ansätze:
	* Klassifikationsansätze:
		+ basiert auf Expertenwissen -> supervised ML -> Klassifikationsmodell
		+ ein Detektionssystem kann nur Signaturen bekannter Angriffe erkennen
		+ verletzbar durch unbekannte Angriffsstrategien
		+ Attacke muss mindestens einmal durchgeführt werden -> Schaden meist bereits entstanden
		ODER:
		+ Profil des "normalen Verkehrs" wird gelernt -> alles außerhalb ist eine Anomalie
		+ kann neue Anomalien erkennen, wenn Unterschied zu normalem Profil groß genug
		+ unrealistisch ein perfektes Profil bei komplexen Systemen zu lernen -> Falschmeldungen
		+ außerdem: unrealistisch komplett "sauberen" Datensatz zu finden
		+ Beispiele:
			- "Support Vector machine" \cite{noble2006support}
			- Bayesian Network \cite{kruegel2003bayesian}
			- Neurale Netzwerke \cite{zhang2001hide}
			- Regelbasierte Ansätze \cite{yang2013rule}
			-> häufig wurden mehrere Ansätze kombiniert

\section{Ontologien und Anomalieerkennung}
- Open World Assumption -> alles nicht explizit Ausgeschlossene kann existieren
- unterschiedliche Mächtigkeit der 3 OWL-Klassen, warum OWL-DL genutzt wird (TODO)
- "Reasoner" Features: \cite{roy2010exploitation}
	* Konsistenzprüfung, Überprüft auf Widersprüche
	* Konzeptuelle Erfüllbarkeit, Prüfung ob für eine Klasse Instanzen existieren können
	* Klassifikation, berechnet die Subklassenrelationen "eine Klasse subsumiert eine Andere"
	* Typisierung, findet die spezifischste Klasse der ein Individuum angehört
-> Typisierung für uns wichtig, da dort nicht klassifizierbare Individuen erkennbar werden
- maritime Anomalien \cite{roy2010exploitation}
	* Anomalien im Sinne von: Gefahren (z.B. Piraterie), Schiff von Interesse (z.B. vom Radar verschwunden)
	* Domainwissen wird als Ontologiemodell abgebildet
	* Ontologie Teil einer statischen A-Priori-Wissensdatenbank
	* Verschmelzung von A-Priori-Wissen mit situativen Fakten -> Klassifikation von Objekten der Situation via Reasoner -> finden von Anomalien
	* Pellet genutzt nach Review, kommerzieller & Community-Support (Mailinglist + Archiv)
	* Batchmodus und kontinuierlicher Modus evaluiert, kontinuierlicher Modus zu langsam -> festes Zeitfenster für Fakten
- Openlet Features \cite{openlett}:
	* open-source
	* OWL-JAVA-API
	* check consistency of ontologies, compute the classification hierarchy, explain inferences, and answer SPARQL queries -> vollwertiger Reasoner
	* SPARQL Abfragesprache für Datenbank der Ontologie
- "Smart Home" Anomalien \cite{pardo2016framework}:
	* "Multi Agent System" -> "Distributed System"
	* 4 Anomalietypen:
		+ Hardware
		+ Software
		+ Netzwerk
		+ Operator
		+ Kontext -> alles funktioniert, aber Alarmfall (z.B. Rauchmelder schlägt an)
	* Anomalieerkennung im System
	* Angreifer auf das Netzwerk nicht betrachtet -> Fokus auf Anomaliemeldungen von "Smart Home"-Komponenten -> Vereinfachung der Kommunikation/des Datenaustauschs und automatischer Beantwortung des Ausnahmezustands -> Developer von "Smart Home"-Knoten können auf ein Anomaliemanagementinterface zugreifen um dem System Anomalien mitzuteilen
	* explizite Beschreibung der Anomalien, Nachrichten im Netzwerk und Komponenten in jeweils eigener Ontologie
	* Klassifizierung der Netzwerkteilnehmer:
		+ Aktuator
		+ Sensor
		+ Netzwerkrelais
		+ Endpunkt ("computing device") -> Tablet / Smartphone / PC
	* unterscheidet Anomalien nach Kritizität, sichtbaren Auswirkungen, Gründen, Ort des Auftauchens und Beständigkeit (transient, periodisch, dauerhaft)